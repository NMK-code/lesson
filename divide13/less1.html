<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Композиция и выравнивание в WPF</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Основы композиции и выравнивания в WPF</h1>
        <p>Альтернативы StackPanel и Grid для эффективной компоновки интерфейсов</p>
    </header>

    <div class="container">
        <h2>Панели компоновки в WPF</h2>
        <p>В WPF существует несколько панелей компоновки, каждая из которых предназначена для решения определенных задач по расположению элементов.</p>
        
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Панель компоновки</th>
                        <th>Назначение</th>
                        <th>Ключевые свойства</th>
                        <th>Когда использовать</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>DockPanel</strong></td>
                        <td>Размещение элементов с привязкой к краям</td>
                        <td>Dock, LastChildFill</td>
                        <td>Интерфейсы с фиксированными областями (шапка, подвал, боковая панель)</td>
                    </tr>
                    <tr>
                        <td><strong>WrapPanel</strong></td>
                        <td>Размещение элементов в строку/столбец с переносом</td>
                        <td>Orientation, ItemWidth, ItemHeight</td>
                        <td>Динамические коллекции элементов, галереи изображений</td>
                    </tr>
                    <tr>
                        <td><strong>Canvas</strong></td>
                        <td>Абсолютное позиционирование элементов</td>
                        <td>Left, Top, Right, Bottom</td>
                        <td>Нестандартные интерфейсы, диаграммы, кастомные элементы управления</td>
                    </tr>
                    <tr>
                        <td><strong>UniformGrid</strong></td>
                        <td>Равномерное распределение элементов в сетке</td>
                        <td>Rows, Columns</td>
                        <td>Равномерное размещение одинаковых элементов (калькулятор, панель инструментов)</td>
                    </tr>
                    <tr>
                        <td><strong>VirtualizingPanel</strong></td>
                        <td>Виртуализированное размещение для больших коллекций</td>
                        <td>ScrollViewer.CanContentScroll</td>
                        <td>Большие списки данных для оптимизации производительности</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div class="note">
            <p><strong>Примечание:</strong> Выбор панели компоновки зависит от конкретных требований к интерфейсу и производительности.</p>
        </div>
    </div>

    <div class="container">
        <h2>Свойства выравнивания элементов</h2>
        <p>В WPF каждому элементу управления доступны свойства для управления его выравниванием внутри родительского контейнера.</p>
        
        <div class="alignment-demo">
            <div class="alignment-example">
                <h3>HorizontalAlignment</h3>
                <p>Определяет горизонтальное выравнивание элемента:</p>
                <div class="alignment-visual" style="display: flex; flex-direction: column;">
                    <div style="flex: 1; position: relative;">
                        <div class="alignment-box" style="left: 0; background-color: #3498db;">Left</div>
                    </div>
                    <div style="flex: 1; position: relative;">
                        <div class="alignment-box" style="left: 50%; transform: translateX(-50%); background-color: #2980b9;">Center</div>
                    </div>
                    <div style="flex: 1; position: relative;">
                        <div class="alignment-box" style="right: 0; background-color: #2575fc;">Right</div>
                    </div>
                    <div style="flex: 1; position: relative;">
                        <div class="alignment-box" style="left: 0; right: 0; background-color: #6a11cb;">Stretch</div>
                    </div>
                </div>
            </div>
            
            <div class="alignment-example">
                <h3>VerticalAlignment</h3>
                <p>Определяет вертикальное выравнивание элемента:</p>
                <div class="alignment-visual" style="display: flex;">
                    <div style="flex: 1; position: relative;">
                        <div class="alignment-box" style="top: 0; background-color: #3498db;">Top</div>
                    </div>
                    <div style="flex: 1; position: relative;">
                        <div class="alignment-box" style="top: 50%; transform: translateY(-50%); background-color: #2980b9;">Center</div>
                    </div>
                    <div style="flex: 1; position: relative;">
                        <div class="alignment-box" style="bottom: 0; background-color: #2575fc;">Bottom</div>
                    </div>
                    <div style="flex: 1; position: relative;">
                        <div class="alignment-box" style="top: 0; bottom: 0; background-color: #6a11cb;">Stretch</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="code-container">
            <div class="code-header">
                <span class="language">XAML</span>
                <span class="caption">Пример использования свойств выравнивания</span>
            </div>
            <pre><code><span class="tag">&lt;Button</span> 
    <span class="attribute">Content</span>=<span class="string">"Выровненная кнопка"</span>
    <span class="attribute">HorizontalAlignment</span>=<span class="string">"Center"</span>
    <span class="attribute">VerticalAlignment</span>=<span class="string">"Center"</span>
    <span class="attribute">Width</span>=<span class="string">"120"</span>
    <span class="attribute">Height</span>=<span class="string">"40"</span><span class="tag">/&gt;</span></code></pre>
        </div>
        
        <h3>Margin и Padding</h3>
        <p>Два важнейших свойства для управления пространством вокруг и внутри элементов:</p>
        
        <div class="code-container">
            <div class="code-header">
                <span class="language">XAML</span>
                <span class="caption">Пример использования Margin и Padding</span>
            </div>
            <pre><code><span class="tag">&lt;Border</span> 
    <span class="attribute">Background</span>=<span class="string">"LightGray"</span>
    <span class="attribute">Padding</span>=<span class="string">"20"</span>
    <span class="attribute">Margin</span>=<span class="string">"10"</span><span class="tag">&gt;</span>
    <span class="tag">&lt;Button</span> 
        <span class="attribute">Content</span>=<span class="string">"Кнопка с отступами"</span>
        <span class="attribute">Margin</span>=<span class="string">"5"</span>
        <span class="attribute">Padding</span>=<span class="string">"10"</span><span class="tag">/&gt;</span>
<span class="tag">&lt;/Border&gt;</span></code></pre>
        </div>
        
        <div class="tip">
            <p><strong>Совет:</strong> Margin создает пространство вокруг элемента, а Padding - внутри элемента, вокруг его содержимого.</p>
        </div>
    </div>

    <div class="container">
        <h2>Примеры использования различных панелей</h2>
        
        <h3>DockPanel</h3>
        <p>Идеально подходит для создания интерфейсов с фиксированными областями:</p>
        
        <div class="code-container">
            <div class="code-header">
                <span class="language">XAML</span>
                <span class="caption">Пример использования DockPanel</span>
            </div>
            <pre><code><span class="tag">&lt;DockPanel</span> <span class="attribute">LastChildFill</span>=<span class="string">"True"</span><span class="tag">&gt;</span>
    <span class="comment">&lt;!-- Верхняя панель --&gt;</span>
    <span class="tag">&lt;Menu</span> <span class="attribute">DockPanel.Dock</span>=<span class="string">"Top"</span><span class="tag">&gt;</span>
        <span class="tag">&lt;MenuItem</span> <span class="attribute">Header</span>=<span class="string">"Файл"</span><span class="tag">&gt;</span>
            <span class="tag">&lt;MenuItem</span> <span class="attribute">Header</span>=<span class="string">"Открыть"</span><span class="tag">/&gt;</span>
            <span class="tag">&lt;MenuItem</span> <span class="attribute">Header</span>=<span class="string">"Сохранить"</span><span class="tag">/&gt;</span>
        <span class="tag">&lt;/MenuItem&gt;</span>
    <span class="tag">&lt;/Menu&gt;</span>
    
    <span class="comment">&lt;!-- Статусная строка --&gt;</span>
    <span class="tag">&lt;StatusBar</span> <span class="attribute">DockPanel.Dock</span>=<span class="string">"Bottom"</span><span class="tag">&gt;</span>
        <span class="tag">&lt;StatusBarItem</span> <span class="attribute">Content</span>=<span class="string">"Готово"</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/StatusBar&gt;</span>
    
    <span class="comment">&lt;!-- Боковая панель --&gt;</span>
    <span class="tag">&lt;StackPanel</span> <span class="attribute">DockPanel.Dock</span>=<span class="string">"Left"</span> <span class="attribute">Width</span>=<span class="string">"150"</span><span class="tag">&gt;</span>
        <span class="tag">&lt;Button</span> <span class="attribute">Content</span>=<span class="string">"Опция 1"</span> <span class="attribute">Margin</span>=<span class="string">"5"</span><span class="tag">/&gt;</span>
        <span class="tag">&lt;Button</span> <span class="attribute">Content</span>=<span class="string">"Опция 2"</span> <span class="attribute">Margin</span>=<span class="string">"5"</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/StackPanel&gt;</span>
    
    <span class="comment">&lt;!-- Основное содержимое --&gt;</span>
    <span class="tag">&lt;Grid&gt;</span>
        <span class="tag">&lt;TextBlock</span> <span class="attribute">TextWrapping</span>=<span class="string">"Wrap"</span> <span class="attribute">Margin</span>=<span class="string">"10"</span>
                   <span class="attribute">Text</span>=<span class="string">"Основная область содержимого"</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/Grid&gt;</span>
<span class="tag">&lt;/DockPanel&gt;</span></code></pre>
        </div>
        
        <h3>WrapPanel</h3>
        <p>Отлично подходит для динамического размещения элементов с переносом:</p>
        
        <div class="code-container">
            <div class="code-header">
                <span class="language">XAML</span>
                <span class="caption">Пример использования WrapPanel</span>
            </div>
            <pre><code><span class="tag">&lt;WrapPanel</span> <span class="attribute">Orientation</span>=<span class="string">"Horizontal"</span><span class="tag">&gt;</span>
    <span class="tag">&lt;Button</span> <span class="attribute">Content</span>=<span class="string">"Кнопка 1"</span> <span class="attribute">Margin</span>=<span class="string">"5"</span> <span class="attribute">Width</span>=<span class="string">"80"</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;Button</span> <span class="attribute">Content</span>=<span class="string">"Кнопка 2"</span> <span class="attribute">Margin</span>=<span class="string">"5"</span> <span class="attribute">Width</span>=<span class="string">"80"</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;Button</span> <span class="attribute">Content</span>=<span class="string">"Кнопка 3"</span> <span class="attribute">Margin</span>=<span class="string">"5"</span> <span class="attribute">Width</span>=<span class="string">"80"</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;Button</span> <span class="attribute">Content</span>=<span class="string">"Длинная кнопка 4"</span> <span class="attribute">Margin</span>=<span class="string">"5"</span> <span class="attribute">Width</span>=<span class="string">"120"</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;Button</span> <span class="attribute">Content</span>=<span class="string">"Кн5"</span> <span class="attribute">Margin</span>=<span class="string">"5"</span> <span class="attribute">Width</span>=<span class="string">"50"</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;Button</span> <span class="attribute">Content</span>=<span class="string">"Кнопка 6"</span> <span class="attribute">Margin</span>=<span class="string">"5"</span> <span class="attribute">Width</span>=<span class="string">"80"</span><span class="tag">/&gt;</span>
<span class="tag">&lt;/WrapPanel&gt;</span></code></pre>
        </div>
        
        <div class="note">
            <p><strong>Примечание:</strong> WrapPanel автоматически переносит элементы на следующую строку (или столбец), когда не хватает места.</p>
        </div>
        
        <h3>Canvas</h3>
        <p>Обеспечивает абсолютное позиционирование элементов:</p>
        
        <div class="code-container">
            <div class="code-header">
                <span class="language">XAML</span>
                <span class="caption">Пример использования Canvas</span>
            </div>
            <pre><code><span class="tag">&lt;Canvas</span> <span class="attribute">Width</span>=<span class="string">"300"</span> <span class="attribute">Height</span>=<span class="string">"200"</span><span class="tag">&gt;</span>
    <span class="tag">&lt;Ellipse</span> <span class="attribute">Canvas.Left</span>=<span class="string">"50"</span> <span class="attribute">Canvas.Top</span>=<span class="string">"30"</span>
             <span class="attribute">Width</span>=<span class="string">"100"</span> <span class="attribute">Height</span>=<span class="string">"100"</span>
             <span class="attribute">Fill</span>=<span class="string">"Red"</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;Rectangle</span> <span class="attribute">Canvas.Right</span>=<span class="string">"20"</span> <span class="attribute">Canvas.Bottom</span>=<span class="string">"20"</span>
               <span class="attribute">Width</span>=<span class="string">"80"</span> <span class="attribute">Height</span>=<span class="string">"60"</span>
               <span class="attribute">Fill</span>=<span class="string">"Blue"</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;TextBlock</span> <span class="attribute">Canvas.Left</span>=<span class="string">"120"</span> <span class="attribute">Canvas.Top</span>=<span class="string">"80"</span>
               <span class="attribute">Text</span>=<span class="string">"Текст"</span>
               <span class="attribute">FontSize</span>=<span class="string">"16"</span>
               <span class="attribute">Foreground</span>=<span class="string">"White"</span><span class="tag">/&gt;</span>
<span class="tag">&lt;/Canvas&gt;</span></code></pre>
        </div>
        
        <div class="warning">
            <p><strong>Важно:</strong> Canvas не обеспечивает адаптивность布局, поэтому его следует использовать осторожно и только когда абсолютное позиционирование действительно необходимо.</p>
        </div>
    </div>

    <div class="container">
        <h2>Советы по эффективной композиции</h2>
        
        <h3>Комбинирование панелей</h3>
        <p>Часто лучший результат достигается комбинированием различных панелей компоновки:</p>
        
        <div class="code-container">
            <div class="code-header">
                <span class="language">XAML</span>
                <span class="caption">Пример комбинирования панелей</span>
            </div>
            <pre><code><span class="tag">&lt;Grid&gt;</span>
    <span class="tag">&lt;Grid.RowDefinitions&gt;</span>
        <span class="tag">&lt;RowDefinition</span> <span class="attribute">Height</span>=<span class="string">"Auto"</span><span class="tag">/&gt;</span>
        <span class="tag">&lt;RowDefinition</span> <span class="attribute">Height</span>=<span class="string">"*"</span><span class="tag">/&gt;</span>
        <span class="tag">&lt;RowDefinition</span> <span class="attribute">Height</span>=<span class="string">"Auto"</span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/Grid.RowDefinitions&gt;</span>
    
    <span class="comment">&lt;!-- Шапка --&gt;</span>
    <span class="tag">&lt;DockPanel</span> <span class="attribute">Grid.Row</span>=<span class="string">"0"</span><span class="tag">&gt;</span>
        <span class="tag">&lt;Menu</span> <span class="attribute">DockPanel.Dock</span>=<span class="string">"Top"</span><span class="tag">&gt;</span>...<span class="tag">&lt;/Menu&gt;</span>
        <span class="tag">&lt;ToolBar</span> <span class="attribute">DockPanel.Dock</span>=<span class="string">"Top"</span><span class="tag">&gt;</span>...<span class="tag">&lt;/ToolBar&gt;</span>
    <span class="tag">&lt;/DockPanel&gt;</span>
    
    <span class="comment">&lt;!-- Основное содержимое --&gt;</span>
    <span class="tag">&lt;ScrollViewer</span> <span class="attribute">Grid.Row</span>=<span class="string">"1"</span><span class="tag">&gt;</span>
        <span class="tag">&lt;WrapPanel</span> <span class="attribute">Orientation</span>=<span class="string">"Horizontal"</span><span class="tag">&gt;</span>
            <span class="comment">&lt;!-- Динамическое содержимое --&gt;</span>
        <span class="tag">&lt;/WrapPanel&gt;</span>
    <span class="tag">&lt;/ScrollViewer&gt;</span>
    
    <span class="comment">&lt;!-- Подвал --&gt;</span>
    <span class="tag">&lt;StatusBar</span> <span class="attribute">Grid.Row</span>=<span class="string">"2"</span><span class="tag">&gt;</span>...<span class="tag">&lt;/StatusBar&gt;</span>
<span class="tag">&lt;/Grid&gt;</span></code></pre>
        </div>
        
        <h3>Использование выравнивания вместо фиксированных размеров</h3>
        <p>Старайтесь использовать свойства выравнивания вместо фиксированных размеров для создания адаптивных интерфейсов:</p>
        
        <div class="code-container">
            <div class="code-header">
                <span class="language">XAML</span>
                <span class="caption">Пример адаптивного выравнивания</span>
            </div>
            <pre><code><span class="comment">&lt;!-- Неадаптивный подход --&gt;</span>
<span class="tag">&lt;Button</span> <span class="attribute">Content</span>=<span class="string">"Кнопка"</span> <span class="attribute">Width</span>=<span class="string">"100"</span> <span class="attribute">Height</span>=<span class="string">"30"</span><span class="tag">/&gt;</span>

<span class="comment">&lt;!-- Адаптивный подход --&gt;</span>
<span class="tag">&lt;Button</span> 
    <span class="attribute">Content</span>=<span class="string">"Кнопка"</span> 
    <span class="attribute">MinWidth</span>=<span class="string">"80"</span>
    <span class="attribute">MaxWidth</span>=<span class="string">"200"</span>
    <span class="attribute">HorizontalAlignment</span>=<span class="string">"Stretch"</span>
    <span class="attribute">Margin</span>=<span class="string">"10"</span><span class="tag">/&gt;</span></code></pre>
        </div>
        
        <div class="tip">
            <p><strong>Совет:</strong> Используйте MinWidth, MaxWidth, MinHeight и MaxHeight вместе с выравниванием для создания гибких интерфейсов, которые хорошо выглядят на экранах разных размеров.</p>
        </div>
        
        <h3>Визуальные подсказки для композиции</h3>
        <p>Используйте отступы, границы и фон для визуального разделения элементов интерфейса:</p>
        
        <div class="code-container">
            <div class="code-header">
                <span class="language">XAML</span>
                <span class="caption">Пример визуального разделения</span>
            </div>
            <pre><code><span class="tag">&lt;StackPanel</span> <span class="attribute">Orientation</span>=<span class="string">"Vertical"</span> <span class="attribute">Margin</span>=<span class="string">"10"</span><span class="tag">&gt;</span>
    <span class="tag">&lt;Border</span> 
        <span class="attribute">BorderBrush</span>=<span class="string">"LightGray"</span>
        <span class="attribute">BorderThickness</span>=<span class="string">"1"</span>
        <span class="attribute">Padding</span>=<span class="string">"10"</span>
        <span class="attribute">Margin</span>=<span class="string">"0,0,0,10"</span><span class="tag">&gt;</span>
        <span class="tag">&lt;TextBlock</span> <span class="attribute">Text</span>=<span class="string">"Группа 1"</span> <span class="attribute">FontWeight</span>=<span class="string">"Bold"</span><span class="tag">/&gt;</span>
        <span class="tag">&lt;StackPanel</span> <span class="attribute">Orientation</span>=<span class="string">"Vertical"</span> <span class="attribute">Margin</span>=<span class="string">"5,10,5,5"</span><span class="tag">&gt;</span>
            <span class="tag">&lt;Button</span> <span class="attribute">Content</span>=<span class="string">"Опция 1"</span> <span class="attribute">Margin</span>=<span class="string">"0,2"</span><span class="tag">/&gt;</span>
            <span class="tag">&lt;Button</span> <span class="attribute">Content</span>=<span class="string">"Опция 2"</span> <span class="attribute">Margin</span>=<span class="string">"0,2"</span><span class="tag">/&gt;</span>
        <span class="tag">&lt;/StackPanel&gt;</span>
    <span class="tag">&lt;/Border&gt;</span>
    
    <span class="tag">&lt;Border</span> 
        <span class="attribute">Background</span>=<span class="string">"#FFF5F5F5"</span>
        <span class="attribute">Padding</span>=<span class="string">"10"</span>
        <span class="attribute">Margin</span>=<span class="string">"0,0,0,10"</span><span class="tag">&gt;</span>
        <span class="tag">&lt;TextBlock</span> <span class="attribute">Text</span>=<span class="string">"Группа 2"</span> <span class="attribute">FontWeight</span>=<span class="string">"Bold"</span><span class="tag">/&gt;</span>
        <span class="tag">&lt;StackPanel</span> <span class="attribute">Orientation</span>=<span class="string">"Vertical"</span> <span class="attribute">Margin</span>=<span class="string">"5,10,5,5"</span><span class="tag">&gt;</span>
            <span class="tag">&lt;CheckBox</span> <span class="attribute">Content</span>=<span class="string">"Настройка 1"</span> <span class="attribute">Margin</span>=<span class="string">"0,2"</span><span class="tag">/&gt;</span>
            <span class="tag">&lt;CheckBox</span> <span class="attribute">Content</span>=<span class="string">"Настройка 2"</span> <span class="attribute">Margin</span>=<span class="string">"0,2"</span><span class="tag">/&gt;</span>
        <span class="tag">&lt;/StackPanel&gt;</span>
    <span class="tag">&lt;/Border&gt;</span>
<span class="tag">&lt;/StackPanel&gt;</span></code></pre>
        </div>
    </div>

</body>
</html>